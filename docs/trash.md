  ⚠️ 검증 필요 사항들

  1. 복잡성 관리

  - 범용 시스템 = 복잡성 증가 위험
  - 우려: 모든 기능을 하나에 넣으면 디버깅 어려움
  - 제안: 모듈별 독립 테스트 가능하게 설계

  2. 성능 vs 완전성 트레이드오프

  # 현실적 한계
  python ledger_extractor.py --years 2022-2025 --all
  # → 4년 × 전체 계정 = 수천 개 시트 처리
  - 메모리 사용량: 대용량 Excel 파일 동시 처리
  - 처리 시간: 완전성 검증 vs 속도

  3. CLAUDE.md 규칙 충돌 가능성

  - 9번 규칙: "기존 스크립트 우선 사용"
  - 새 파일 생성: ledger_extractor.py 등 4개 새 파일
  - 해결방안: 기존 파일 확장 vs 새 파일 필요성 검토

  🔍 중요한 누락 요소들

  1. 교차 오염 실시간 감지

  - 계획에서 명시적 언급 부족
  - 필수: 처리 중 실시간 교차 검증

  2. MCP 연동 상세 설계

  - mcp_interface.py 연결만 언급
  - 필요: MCP 역할과 Python 역할 명확한 분담

  3. 에러 복구 시나리오

  - 4년 전체 처리 중 오류 발생시 복구 방안 필요

  📋 개선된 실행 계획 제안

  Update Todos
  ⎿  ☐ PRD v3 문서 작성 전 기존 Script 폴더 스크립트 활용 방안 검토
     ☐ 범용 추출 엔진 설계 (메모리 효율성 고려)
     ☐ 교차 오염 실시간 감지 시스템 상세 설계
     ☐ MCP-Python 역할 분담 명세
     ☐ 에러 복구 및 중간 저장 시나리오 설계
     ☐ 기존 todo 완료: Ledgers 분석 문서 생성

● ✅ 최종 검증 결과

  강력한 계획이지만 3가지 핵심 보완 필요:

  1. CLAUDE.md 9번 규칙 준수: 기존 스크립트 최대 활용 방안
  2. 성능 최적화: 대용량 처리 시 메모리 관리
  3. 실시간 검증: 교차 오염 감지 시스템 강화